<!DOCTYPE html>
<html>
<head>
<title>Filters</title>
<style>
.tablex    		{border: 0px; padding: 3px; border-spacing: 3px; }
.tablex td 		{border: 0px; padding: 3px; border-spacing: 3px}
</style>
</head>
<body style="padding:20px;width:650px;font-family:Times">

<h1>Filters</h1>
Overall rules:
<ol>
<li>Set the desired filters, then select <b>Seq Table</b>; only the sequences
that pass all filters will be shown in the resulting sequence table. 
<li>Sections are collapsible; to expand a section to see its filters, click on the +. 
<li>
All filters correspond to columns with the same name in the same sections of the <b>Columns</b> tab
on the left.
<li>
TCW uses the terminology <b>every</b> and <b>any</b>, but alternative terminology is:
<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;every = all = and = &amp; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; any = at least one = or = |
<li>A summary of the filters is shown at the top of the sequence table. 
Example abbreviations used:
(U) means Up, (E) is either, &amp; is every, | is any.
</ol>
<h2>General</h2>
Filter on sequence length, total read count, and whether the sequence has
a user-added remark. Remarks can be added with the runSingleTCW interface.

<h2>Counts and TPM (or RPKM)</h2>
Filter based on counts or TPM of one or more conditions, where TPM is the default. 
NOTE: If RPKM was computed instead of TPM, then the Filter page will say RPKM instead of TPM.

<ol>
<li>Check either <b>At least N from every/any included condition</b> and/or <b>At most N from every/any excluded conditions</b>.
<li>Select <b>every</b> or <b>any</b>, where <b>every</b> required all conditions to pass the filter, <b>any</b> requires at least one
to pass the filter. 
<li>Enter the number of TPM requires as the lower limit for the included condition and
upper limit for the excluded. 
</ol>
For example, say you choose <b>Include</b>=condA,condB and <b>Exclude</b>=condC,condD with the defaults.
This filter would results in a list of sequence where both condA and condB are >= 1.0
and both condC and condD are = 0.0.

<h2>N-fold</h2>
This applies to the TPM columns. Whether using Log2FC or FC, a "0.1" is added to both A and B to avoid zero values.
<table>
<tr><td><b>N-fold</b><td>&nbsp;<td>This must be checked and a value entered into the box beside it.
<tr><td valign="top">Direction<sup>1</sup>&nbsp;<td><td><b>Up-Down</b>, <b>Up</b> or <b>Down</b> can be selected.

<tr><td valign="top" nowrap><b>Every/Any</b><td>&nbsp;<td>If more than one A-B pair is selected, the <b>Every</b> 
requires them all to
pass the N-fold test whereas the <b>Any</b> only requires one of the pairs to pass the filter.
<tr><td valign="top" nowrap><b>Select A</b><td>&nbsp;<td>Select the first condition.
<tr><td valign="top" nowrap><b>Select B</b><td>&nbsp;<td>Select the second condition.
<tr><td valign="top" nowrap><b>Add</b><sup>2</sup><td>&nbsp;<td>After A and B are selected, this will add them to the box.
<td><tr><td valign="top" nowrap><b>Remove</b><td>&nbsp;<td>Select an entry in the box followed by "Remove" to remove it.
<td><tr><td valign="top" nowrap><b>Log2</b><sup>3</sup><td>&nbsp;<td>If this is selected, then the box will contain "A:B", else it will contain
"A/B".
</table>
<sup>1</sup>E/U/D will be displayed in the box beside the pair, depending on whether up-down, up, or down was selected.
<br><sup>2</sup>If the box contains the currently selected A and B, and the direction is changed, select "Add" again
to change the direction in the box. 
<br><sup>3</sup>When checked or unchecked, the entries in the box will change from "A:B" to "A/B" or vice versa.
<p>To view the associated values, use the <b>Columns</b> tab on the left and select the same conditions and Log2 setting.

<h2>Differential Expression</h2>
This filter will only be available if the person who built the database ran
the function to add DE (Differential
expression) p-values to your database.

<ol>
<li>You must check the box next to <b>p-value</b> and enter a p-value.
<li>You must select one or more DE columns.
<li>Change <b>Every</b> to <b>Any</b> if you wish to see results where any of the selected DE values
meets the threshold.
</ol>
The database stores up/down regulation as positive/negative DE p-values, in which
case you will see options <b>Up/Down/Either</b> for each DE column. 
For example, if you select <b>Up</b>, then you will see only results for which that p-value
has a <i>positive</i> value.

<h2>Best Hit</h2>
Selecting <b>Annotated</b> shows a table of all annotated sequences, with any other filters applied.
<p>All Filters below the <b>Search</b> label are applied to the selected <b>Best</b>, e.g. 
 <b>Best Bits</b>, <b>Best Anno</b> or <b>Best With GO</b>. (See Instructions for their definitions).
<p>Filters requiring explanation:

<table class=tablex>
<tr><td valign=top nowrap><b>DBtype</b> and <b>Taxonomy</b> <td>If one of each is selected, the DBtype-Taxo pair
must correspond to one listed on the <b>Overview</b> panel under "Annotation Databases".
<tr><td valign=top nowrap><b>#annoDB</b> <td>The query is applied to the value in the column <u>#annoDBs</u> under <b>General</b> (see <b>Columns</b>). 
<tr><td><b>Bits!=Anno</b> <td>Show all sequences where the Best Bits is not the same as the Best Anno.
<tr><td valign=top nowrap><b>GO!=Bits&amp;GO!=Anno</b> <td>Show all sequences where the <b>Best with GOs</b> is not the same as either Best Bits or Best Anno.
</table>
<i>Note: there are additional annotation queries under <b>annoDB Hits</b>.</i>

<h2>GO</h2>

Enter a GO ID, e.g. 3674 or GO:0003674, and all sequences that have this GO as assigned or inherited
will be displayed.  Additional
GO queries are available from the <b>Basic GO Annotation</b>. 

<h2>SNPs and ORFs</h2>

Note, SNPs are only computed for assembled contigs, so SNP queries are not available for
imported transcript sequences. ORFs are computed in either case. 
</body>
</html>